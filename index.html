<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Krutov Egor — The Cosmic Lens</title>

<!-- GSAP -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

<!-- Three.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>

<!-- Fonts -->
<link rel="icon" type="image/png" href="favicon.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;900&family=Roboto+Mono:wght@300;400;700&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">

<style>
:root{
  --bg: #000002;
  --text: #EAEAEA;
  --muted: #A0A0A0;
  --accent-a: #00FFA3;
  --accent-b: #03E1FF;
  --accent-c: #FF0080;
  --accent-d: #8B5CF6;
  
  --lens-size: clamp(600px, 80vw, 900px);
  --lens-border: rgba(255, 255, 255, 0.15);
  --lens-glow: rgba(3, 225, 255, 0.2);
  
  --glow-primary: drop-shadow(0 0 20px var(--accent-a));
  --glow-secondary: drop-shadow(0 0 15px var(--accent-b));
  --text-glow: 0 0 10px currentColor;
}

/* Reset & Base */
*{box-sizing:border-box;margin:0;padding:0}
html,body{width:100%;height:100%;overflow:hidden;background:var(--bg)}
body{
  color:var(--text);
  font-family: 'Inter', system-ui, sans-serif;
  -webkit-font-smoothing:antialiased;
  position: relative;
  /* <<< ДОБАВЛЕНО: Стили для отключения выделения текста */
  user-select: none; /* Стандартный синтаксис */
  -webkit-user-select: none; /* Safari */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
}

body, body * {
  cursor: none;
}

/* <<< ДОБАВЛЕНО: Стили для переключателя языка */
.lang-switcher {
  position: fixed;
  top: 20px;
  left: 20px;
  z-index: 100;
  padding: 8px 16px;
  background: rgba(0,0,0,0.7);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 20px;
  backdrop-filter: blur(10px);
  font-family: 'Roboto Mono', monospace;
  font-size: 14px;
  color: var(--accent-a);
  text-shadow: 0 0 5px var(--accent-a);
  transition: all 0.3s ease;
}
.lang-switcher:hover {
  border-color: var(--accent-a);
  box-shadow: 0 0 15px rgba(0, 255, 163, 0.3);
}
.lang-switcher span {
  display: inline-block; /* Для анимации */
}


/* Enhanced Starfield with Multiple Layers */
#starfield {
  position: fixed; inset: 0; z-index: 1;
  background: 
    radial-gradient(ellipse 50% 40% at 20% 30%, rgba(0, 255, 163, 0.08), transparent 70%),
    radial-gradient(ellipse 40% 35% at 80% 20%, rgba(3, 225, 255, 0.08), transparent 70%),
    radial-gradient(ellipse 35% 30% at 10% 80%, rgba(255, 0, 128, 0.06), transparent 70%),
    radial-gradient(ellipse 45% 25% at 90% 70%, rgba(139, 92, 246, 0.06), transparent 70%);
  filter: blur(1px);
  will-change: transform;
  display: none; /* Hide CSS starfield since we have Three.js */
}

/* Animated Particles */
#particles-container {
  position: fixed; inset: 0; z-index: 2; pointer-events: none;
  overflow: hidden;
}

.particle {
  position: absolute;
  width: 2px; height: 2px;
  background: white;
  border-radius: 50%;
  opacity: 0;
  will-change: transform, opacity;
}

/* Floating Geometric Shapes */
#geometric-bg {
  position: fixed; inset: 0; z-index: 1; pointer-events: none;
  overflow: hidden;
}

.geo-shape {
  position: absolute;
  opacity: 0.1;
  will-change: transform;
  filter: blur(0.5px);
}

.geo-triangle {
  width: 0; height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-bottom: 26px solid var(--accent-a);
}

.geo-circle {
  width: 20px; height: 20px;
  border: 2px solid var(--accent-b);
  border-radius: 50%;
}

.geo-square {
  width: 18px; height: 18px;
  background: var(--accent-c);
  transform: rotate(45deg);
}

/* Enhanced Lens */
.lens-viewport {
  position: fixed; inset: 0; z-index: 10; pointer-events: none;
  perspective: 1500px;
}

.lens {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  
  width: var(--lens-size); height: var(--lens-size);
  border-radius: 50%; 
  border: 2px solid var(--lens-border);
  box-shadow: 
    0 0 60px 15px rgba(0,0,0,0.7),
    inset 0 0 30px var(--lens-glow),
    0 0 100px 5px rgba(3, 225, 255, 0.1);
  clip-path: circle(50% at 50% 50%);
  will-change: transform; 
  background: 
    radial-gradient(circle at 30% 30%, rgba(0, 255, 163, 0.05), transparent 50%),
    radial-gradient(circle at 70% 70%, rgba(3, 225, 255, 0.05), transparent 50%),
    rgba(5, 5, 15, 0.4);
  backdrop-filter: blur(12px) saturate(150%) brightness(110%);
  -webkit-backdrop-filter: blur(12px) saturate(150%) brightness(110%);
  overflow: hidden;
  pointer-events: all;
}

.lens::before {
  content: '';
  position: absolute; inset: 0;
  border-radius: 50%;
  background: conic-gradient(
    from 0deg,
    transparent 0deg,
    var(--accent-a) 90deg,
    transparent 180deg,
    var(--accent-b) 270deg,
    transparent 360deg
  );
  opacity: 0.1;
  animation: rotate 20s linear infinite;
  z-index: -1;
}

.lens-content {
  width: 100%; height: 100%;
  overflow-y: auto; overflow-x: hidden;
  padding: 5%;
  position: relative;
  pointer-events: auto;
  will-change: transform;
}
.lens-content::-webkit-scrollbar { display: none; }

.content-wrapper {
  max-width: 80%; margin: 0 auto;
  padding-top: calc(var(--lens-size) * 0.1);
  padding-bottom: calc(var(--lens-size) * 0.05);
}

/* Enhanced Sections */
.section{
  min-height: calc(var(--lens-size) * 0.8);
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  text-align:center; padding: 3rem 0; gap: 2rem;
  position: relative;
}

.section::before {
  content: '';
  position: absolute;
  top: 0; left: 50%;
  width: 2px; height: 40px;
  background: linear-gradient(to bottom, var(--accent-a), transparent);
  transform: translateX(-50%);
}

.section h2{
  font-size:clamp(1.2rem, 2.5vw, 1.8rem); 
  font-weight: 700;
  font-family: 'Orbitron', monospace;
  background:linear-gradient(135deg, var(--accent-a), var(--accent-b), var(--accent-c)); 
  -webkit-background-clip:text; background-clip:text; color:transparent;
  text-shadow: var(--text-glow);
  letter-spacing: 2px;
  position: relative;
  padding: 0.5rem 1.5rem;
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 25px;
  background-color: rgba(0,0,0,0.3);
  backdrop-filter: blur(5px);
}

.section p{ 
  color:var(--muted); 
  max-width:50ch; 
  line-height:1.8; 
  font-size: 1.1rem;
  text-shadow: 0 0 5px rgba(255,255,255,0.1);
}

.glitch-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: clamp(200px, 35vh, 300px);
}

.glitch {
  position: relative;
  font-family: 'Orbitron', monospace;
  font-weight: 900;
  font-size: clamp(3rem, 10vw, 6rem);
  line-height: 1.2;
  text-align: center;
  color: var(--text); 
  opacity: 0.8;
  text-shadow: 0 0 2px rgba(255,255,255,0.2);
  animation: glitch-bars 8s steps(1) infinite;
}

.glitch::before,
.glitch::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: var(--bg);
  color: white;
  clip-path: inset(50% 0 50% 0);
}

.glitch::before {
  animation: glitch-effect-1 8s steps(2, end) infinite;
  text-shadow: -2px 0 var(--accent-c), 2px 0 var(--accent-b);
}

.glitch::after {
  animation: glitch-effect-2 8s steps(2, end) infinite;
  text-shadow: 2px 0 var(--accent-c), -2px 0 var(--accent-b);
}


.brand-sub{
  font-size: 1.1rem; 
  color: var(--muted); 
  margin-top: 1.5rem;
  font-family: 'Roboto Mono', monospace;
  letter-spacing: 1px;
  opacity: 0.8;
}

/* Enhanced Project Cards */
.project-grid{
  display:grid; 
  grid-template-columns: 1fr;
  gap:1.5rem; 
  width: 100%;
  margin-top:2rem;
}

.project-card{
  background: 
    linear-gradient(135deg, rgba(255,255,255,0.05), rgba(255,255,255,0.01)),
    rgba(0,0,0,0.4);
  padding:2rem; 
  border-radius:16px;
  border: 1px solid rgba(255,255,255,0.08);
  box-shadow: 
    0 15px 35px rgba(0,0,0,0.5),
    inset 0 1px 0 rgba(255,255,255,0.1);
  position: relative;
  overflow: hidden;
  transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
  backdrop-filter: blur(10px);
}

.project-card::before {
  content: '';
  position: absolute;
  top: 0; left: -100%;
  width: 100%; height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
  transition: left 0.6s;
}

.project-card:hover::before {
  left: 100%;
}

.project-card:hover {
  transform: translateY(-10px) scale(1.02);
  border-color: rgba(0, 255, 163, 0.3);
  box-shadow: 
    0 25px 50px rgba(0,0,0,0.6),
    0 0 50px rgba(0, 255, 163, 0.2),
    inset 0 1px 0 rgba(255,255,255,0.2);
}

.project-card h3 {
  font-size: 1.3rem;
  font-weight: 700;
  margin-bottom: 1rem;
  background: linear-gradient(135deg, var(--accent-a), var(--accent-b));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  font-family: 'Orbitron', monospace;
}

.project-card p {
  color: var(--muted);
  line-height: 1.6;
  margin-bottom: 1.5rem;
}

/* Enhanced Form */
.contact-form{
  display:flex;
  flex-direction:column;
  gap:1.5rem;
  width:100%;
  max-width:500px;
}

.contact-form input, 
.contact-form textarea{
  background: rgba(0,0,0,0.3);
  border: 1px solid rgba(255,255,255,0.15);
  padding: 1.2rem;
  border-radius: 12px;
  color: var(--text);
  font-family: inherit;
  font-size: 1rem;
  transition: all 0.3s ease;
  backdrop-filter: blur(5px);
}

.contact-form input:focus, 
.contact-form textarea:focus{
  outline: none;
  border-color: var(--accent-a);
  box-shadow: 0 0 20px rgba(0, 255, 163, 0.3);
  background: rgba(0,0,0,0.5);
}

.contact-form button{
  padding: 1.2rem 2rem;
  border-radius: 12px;
  border: none;
  background: linear-gradient(135deg, var(--accent-a), var(--accent-b));
  color: #000;
  font-weight: 700;
  font-size: 1rem;
  transition: all 0.3s ease;
  text-transform: uppercase;
  letter-spacing: 1px;
  position: relative;
  overflow: hidden;
}

.contact-form button::before {
  content: '';
  position: absolute;
  top: 0; left: -100%;
  width: 100%; height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
  transition: left 0.5s;
}

.contact-form button:hover::before {
  left: 100%;
}

.contact-form button:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 25px rgba(0, 255, 163, 0.4);
}

.contact-form button.submitting {
  opacity: 0.7;
  pointer-events: none;
  animation: pulse-border 1.5s infinite;
}

.form-status {
  padding: 1rem;
  margin-top: 1rem;
  border-radius: 8px;
  border: 1px solid;
  font-family: 'Roboto Mono', monospace;
  font-size: 0.9rem;
  text-align: center;
  opacity: 0;
  transform: translateY(10px);
  transition: opacity 0.3s ease, transform 0.3s ease;
  will-change: opacity, transform;
}

.form-status.success {
  color: var(--accent-a);
  border-color: var(--accent-a);
  background: rgba(0, 255, 163, 0.1);
  box-shadow: 0 0 15px rgba(0, 255, 163, 0.2);
}

.form-status.error {
  color: var(--accent-c);
  border-color: var(--accent-c);
  background: rgba(255, 0, 128, 0.1);
  box-shadow: 0 0 15px rgba(255, 0, 128, 0.2);
}


/* Enhanced Cursor */
#cursor {
  position: fixed; z-index: 1000;
  pointer-events: none; width: 20px; height: 20px;
  border: 2px solid var(--accent-a);
  border-radius: 50%;
  opacity: 0;
  will-change: transform;
  mix-blend-mode: exclusion;
  transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1),
              border-color 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
  transform: translate(-50%, -50%); /* Center cursor */
}

#cursor::before {
  content: '';
  position: absolute;
  top: 50%; left: 50%;
  width: 6px; height: 6px;
  background: var(--accent-a);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: all 0.3s ease;
}

#cursor.active {
  transform: translate(-50%, -50%) scale(2);
  border-color: var(--accent-b);
}

#cursor.active::before {
  background: var(--accent-b);
}

/* Loading Animation */
.loading-overlay {
  position: fixed;
  inset: 0;
  background: var(--bg);
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 1;
  transition: opacity 1s ease;
}

.loading-text {
  font-family: 'Orbitron', monospace;
  font-size: 2rem;
  font-weight: 700;
  background: linear-gradient(135deg, var(--accent-a), var(--accent-b));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  animation: pulse 2s ease-in-out infinite;
}

#scroll-hint {
  position: fixed; bottom: 40px; left: 50%; transform: translateX(-50%);
  z-index: 5; 
  color: rgba(255,255,255,0.4); 
  font-family: 'Roboto Mono', monospace;
  font-size: 13px; 
  opacity: 0;
  padding: 10px 20px;
  background: rgba(0,0,0,0.5);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 25px;
  backdrop-filter: blur(5px);
}

/* Animations */
@keyframes rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes glitch-bars {
  0% { transform: skewX(0deg); }
  5% { transform: skewX(15deg); }
  5.1% { transform: skewX(-10deg); }
  10% { transform: skewX(0deg); }
  45% { transform: skewX(0deg); }
  45.1% { transform: skewX(-20deg); }
  45.2% { transform: skewX(5deg); }
  50% { transform: skewX(0deg); }
  100% { transform: skewX(0deg); }
}

@keyframes glitch-effect-1 {
  0% { clip-path: inset(50% 0 50% 0); transform: translateX(-20px); }
  5% { clip-path: inset(10% 0 85% 0); }
  10% { clip-path: inset(90% 0 2% 0); }
  15% { clip-path: inset(50% 0 50% 0); transform: translateX(20px); }
  20% { clip-path: inset(20% 0 75% 0); }
  25% { clip-path: inset(70% 0 15% 0); }
  30% { clip-path: inset(50% 0 50% 0); transform: translateX(-20px); }
  35% { clip-path: inset(5% 0 92% 0); }
  40% { clip-path: inset(80% 0 5% 0); }
  45% { clip-path: inset(40% 0 45% 0); }
  50% { clip-path: inset(50% 0 50% 0); transform: translateX(20px); }
  100% { clip-path: inset(50% 0 50% 0); }
}

@keyframes glitch-effect-2 {
  0% { clip-path: inset(50% 0 50% 0); transform: translateX(20px); }
  4% { clip-path: inset(80% 0 3% 0); }
  8% { clip-path: inset(5% 0 88% 0); }
  12% { clip-path: inset(50% 0 50% 0); transform: translateX(-20px); }
  16% { clip-path: inset(95% 0 2% 0); }
  20% { clip-path: inset(25% 0 70% 0); }
  24% { clip-path: inset(50% 0 50% 0); transform: translateX(20px); }
  28% { clip-path: inset(15% 0 80% 0); }
  32% { clip-path: inset(75% 0 10% 0); }
  36% { clip-path: inset(90% 0 3% 0); }
  40% { clip-path: inset(50% 0 50% 0); transform: translateX(-20px); }
  100% { clip-path: inset(50% 0 50% 0); }
}

@keyframes pulse {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

@keyframes pulse-border {
  0%, 100% { box-shadow: 0 0 20px rgba(3, 225, 255, 0.3); }
  50% { box-shadow: 0 0 35px rgba(3, 225, 255, 0.6); }
}

/* Mobile Responsive */
@media (max-width: 768px) {
  html, body {
    overflow: auto;
    height: auto;
  }
  .lens-viewport, #cursor, #scroll-hint, #particles-container, #geometric-bg { 
    display: none; 
  }
  .mobile-content-container { 
    display: block; 
  }
  #bg-canvas {
    display: none;
  }
}

@media (min-width: 769px) {
  .mobile-content-container { display: none; }
}

.mobile-content-container {
  width: 95%; margin: 2vh auto; border-radius: 20px;
  border: 1px solid var(--lens-border); 
  box-shadow: 0 0 60px 15px rgba(0,0,0,0.7);
  background: 
    radial-gradient(circle at 30% 30%, rgba(0, 255, 163, 0.03), transparent 50%),
    rgba(5, 5, 15, 0.7);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  padding: 2rem 1.5rem;
  overflow: hidden;
  position: relative;
}

.mobile-content-container::before {
  content: '';
  position: absolute; inset: 0;
  background: conic-gradient(
    from 0deg,
    transparent 0deg,
    rgba(0, 255, 163, 0.05) 90deg,
    transparent 180deg,
    rgba(3, 225, 255, 0.05) 270deg,
    transparent 360deg
  );
  animation: rotate 30s linear infinite;
  z-index: -1;
}

/* Status Indicator */
.status-indicator {
  position: fixed;
  top: 20px; right: 20px;
  z-index: 100;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 16px;
  background: rgba(0,0,0,0.7);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 20px;
  backdrop-filter: blur(10px);
  font-family: 'Roboto Mono', monospace;
  font-size: 12px;
  color: var(--muted);
}

.status-dot {
  width: 8px; height: 8px;
  background: var(--accent-a);
  border-radius: 50%;
  animation: pulse 2s ease-in-out infinite;
}

.tech-badge {
  display: inline-block;
  padding: 4px 12px;
  background: rgba(0, 255, 163, 0.1);
  border: 1px solid rgba(0, 255, 163, 0.3);
  border-radius: 12px;
  font-family: 'Roboto Mono', monospace;
  font-size: 0.8rem;
  color: var(--accent-a);
  margin: 4px;
  transition: all 0.3s ease;
}

.tech-badge:hover {
  background: rgba(0, 255, 163, 0.2);
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(0, 255, 163, 0.2);
}

/* Social Links */
.social-links {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-top: 2rem;
}

.social-link {
  width: 50px; height: 50px;
  border: 1px solid rgba(255,255,255,0.2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--muted);
  text-decoration: none;
  transition: all 0.3s ease;
  backdrop-filter: blur(5px);
  background: rgba(255,255,255,0.05);
  font-size: 1.2rem;
}

.social-link:hover {
  border-color: var(--accent-a);
  color: var(--accent-a);
  box-shadow: 0 0 20px rgba(0, 255, 163, 0.3);
  transform: translateY(-5px);
}

#nebula-bg {
  position: fixed; inset: 0; z-index: 0; pointer-events: none;
  background: radial-gradient(circle at center, rgba(0, 255, 163, 0.02), transparent 50%);
  opacity: 0.5;
  will-change: transform;
  animation: nebula-pulse 30s ease-in-out infinite;
}

@keyframes nebula-pulse {
  0%, 100% { transform: scale(1); opacity: 0.5; }
  50% { transform: scale(1.1); opacity: 0.7; }
}

.particle-trail {
  position: absolute;
  width: 1px; height: 20px;
  background: linear-gradient(to bottom, white, transparent);
  opacity: 0;
  will-change: transform, opacity;
}

#bg-canvas {
  position: fixed;
  inset: 0;
  z-index: 0;
}
</style>
</head>
<!-- <<< ДОБАВЛЕНО: Отключаем контекстное меню (правый клик) -->
<body oncontextmenu="return false;">

<!-- <<< ДОБАВЛЕНО: Переключатель языка -->
<div class="lang-switcher" id="langSwitcher">
  <span>R</span><span>U</span>
</div>

<!-- Loading Screen -->
<div class="loading-overlay" id="loadingOverlay">
  <div class="loading-text">INITIALIZING...</div>
</div>

<!-- Status Indicator -->
<div class="status-indicator">
  <div class="status-dot"></div>
  <span>CONNECTED</span>
</div>

<div id="starfield"></div>
<div id="nebula-bg"></div>
<div id="particles-container"></div>
<div id="geometric-bg"></div>
<div id="scroll-hint">Scroll inside the lens to explore</div>

<!-- DESKTOP -->
<div class="lens-viewport">
  <div class="lens" id="lens">
    <div class="lens-content" id="lens-content">
      <div class="content-wrapper">
        
        <div class="section hero-wrap" id="hero">
          <div class="glitch-wrapper">
            <h1 class="glitch" data-text="KRUTOV EGOR">
              KRUTOV<br>EGOR
            </h1>
          </div>
          <div class="brand-sub">[ <span data-translate-key="brandSub"></span> ]</div>
          <div class="social-links">
            <a href="https://t.me/kakzheslozhna" class="social-link" title="Telegram">ᯓ➤</a>
          </div>
        </div>
        
        <div class="section" id="about">
          <h2>[ <span data-translate-key="missionTitle"></span> ]</h2>
          <p data-translate-key="missionText"></p>
        </div>
        
        <div class="section" id="projects">
          <h2>[ <span data-translate-key="projectsTitle"></span> ]</h2>
          <div class="project-grid">
            <article class="project-card">
              <h3 data-translate-key="project1Title"></h3>
              <p data-translate-key="project1Text"></p>
              <div>
                <span class="tech-badge">React</span>
                <span class="tech-badge">Three.js</span>
                <span class="tech-badge">Node.js</span>
                <span class="tech-badge">AI/ML</span>
              </div>
            </article>
            <article class="project-card">
              <h3 data-translate-key="project2Title"></h3>
              <p data-translate-key="project2Text"></p>
              <div>
                <span class="tech-badge">WebGL</span>
                <span class="tech-badge">D3.js</span>
                <span class="tech-badge">WebSocket</span>
                <span class="tech-badge">PostgreSQL</span>
              </div>
            </article>
            <article class="project-card">
              <h3 data-translate-key="project3Title"></h3>
              <p data-translate-key="project3Text"></p>
              <div>
                <span class="tech-badge">React</span>
                <span class="tech-badge">Node.js</span>
                <span class="tech-badge">MongoDB</span>
                <span class="tech-badge">Stripe API</span>
              </div>
            </article>
          </div>
        </div>
        
        <div class="section" id="contact">
          <h2>[ <span data-translate-key="contactTitle"></span> ]</h2>
          <form id="contact-form-desktop" class="contact-form">
            <input type="text" placeholder="// IDENTIFICATION" required>
            <input type="email" placeholder="// TRANSMISSION_CHANNEL" required>
            <textarea rows="4" placeholder="// MESSAGE_PAYLOAD" required></textarea>
            <button type="submit"><span data-translate-key="contactButton"></span></button>
            <div class="form-status"></div>
          </form>
        </div>
        
      </div>
    </div>
  </div>
</div>

<!-- MOBILE -->
<div class="mobile-content-container">
  <div class="content-wrapper">
    
      <div class="section hero-wrap">
        <div class="glitch-wrapper">
           <h1 class="glitch" data-text="KRUTOV EGOR">
              KRUTOV<br>EGOR
            </h1>
        </div>
        <div class="brand-sub">[ <span data-translate-key="brandSub_mobile"></span> ]</div>
        <div class="social-links">
          <a href="https://t.me/kakzheslozhna" class="social-link" title="Telegram">ᯓ➤</a>
        </div>
      </div>
      
      <div class="section">
        <h2>[ <span data-translate-key="missionTitle_mobile"></span> ]</h2>
        <p data-translate-key="missionText_mobile"></p>
      </div>
      
      <div class="section">
        <h2>[ <span data-translate-key="projectsTitle_mobile"></span> ]</h2>
        <div class="project-grid">
            <article class="project-card">
              <h3 data-translate-key="project1Title_mobile"></h3>
              <p data-translate-key="project1Text_mobile"></p>
              <div>
                <span class="tech-badge">React</span>
                <span class="tech-badge">Three.js</span>
                <span class="tech-badge">Node.js</span>
                <span class="tech-badge">AI/ML</span>
              </div>
            </article>
            <article class="project-card">
              <h3 data-translate-key="project2Title_mobile"></h3>
              <p data-translate-key="project2Text_mobile"></p>
              <div>
                <span class="tech-badge">WebGL</span>
                <span class="tech-badge">D3.js</span>
                <span class="tech-badge">WebSocket</span>
                <span class="tech-badge">PostgreSQL</span>
              </div>
            </article>
            <article class="project-card">
              <h3 data-translate-key="project3Title_mobile"></h3>
              <p data-translate-key="project3Text_mobile"></p>
              <div>
                <span class="tech-badge">React</span>
                <span class="tech-badge">Node.js</span>
                <span class="tech-badge">MongoDB</span>
                <span class="tech-badge">Stripe API</span>
              </div>
            </article>
        </div>
      </div>
      
      <div class="section">
        <h2>[ <span data-translate-key="contactTitle_mobile"></span> ]</h2>
        <form id="contact-form-mobile" class="contact-form">
          <input type="text" placeholder="// IDENTIFICATION" required>
          <input type="email" placeholder="// TRANSMISSION_CHANNEL" required>
          <textarea rows="4" placeholder="// MESSAGE_PAYLOAD" required></textarea>
          <button type="submit"><span data-translate-key="contactButton_mobile"></span></button>
          <div class="form-status"></div>
        </form>
      </div>
      
  </div>
</div>

<div id="cursor"></div>

<script>
// <<< ДОБАВЛЕНО: Скрипт для блокировки клавиш
document.addEventListener('keydown', function (e) {
    // Блокируем F12
    if (e.key === 'F12' || e.keyCode === 123) {
        e.preventDefault();
    }
    // Блокируем Ctrl+Shift+I
    if (e.ctrlKey && e.shiftKey && e.key === 'I') {
        e.preventDefault();
    }
    // Блокируем Ctrl+Shift+J
    if (e.ctrlKey && e.shiftKey && e.key === 'J') {
        e.preventDefault();
    }
    // Блокируем Ctrl+U
    if (e.ctrlKey && e.key === 'U') {
        e.preventDefault();
    }
});

document.addEventListener('DOMContentLoaded', () => {
  gsap.registerPlugin(ScrollTrigger);

  let cursorHasMoved = false;
  let mouse = { x: window.innerWidth / 2, y: window.innerHeight / 2 };

  const lens = document.getElementById('lens');
  const lensContent = document.getElementById('lens-content');
  const cursor = document.getElementById('cursor');
  const scrollHint = document.getElementById('scroll-hint');
  const loadingOverlay = document.getElementById('loadingOverlay');
  const langSwitcher = document.getElementById('langSwitcher');

  let targetScroll = 0;
  let currentScroll = 0;
  const scrollSmoothness = 0.07;
  
  // <<< ДОБАВЛЕНО: Локализация
  let currentLang = 'ru';
  const translations = {
    ru: {
      brandSub: "НАВИГАЦИЯ В ЦИФРОВОМ КОСМОСЕ",
      missionTitle: "СВОДКА",
      missionText: "Full-stack разработчик, сфокусированный на создании иммерсивных цифровых продуктов. Специализируюсь на пересечении современных фронтенд-технологий, таких как React и Three.js, с мощными и масштабируемыми бэкенд-системами. Моя цель — превращать сложные задачи в интуитивно понятные и визуально впечатляющие приложения.",
      projectsTitle: "АКТИВЫ",
      project1Title: "Интерактивная платформа генеративного искусства",
      project1Text: "Веб-приложение, позволяющее пользователям создавать уникальные визуализации на основе AI-алгоритмов. Рендеринг в реальном времени осуществляется с помощью Three.js/WebGL.",
      project2Title: "3D-дэшборд для аналитики данных",
      project2Text: "Платформа для визуализации сложных наборов данных в интерактивном 3D-пространстве. Поддерживает стриминг данных в реальном времени через WebSocket.",
      project3Title: "Высокопроизводительная E-commerce платформа",
      project3Text: "Полнофункциональное решение для интернет-магазина, построенное на MERN-стеке с JWT-аутентификацией, интеграцией платежной системы Stripe и state-менеджментом.",
      contactTitle: "УСТАНОВИТЬ КОНТАКТ",
      contactButton: "НАЧАТЬ ПЕРЕДАЧУ",
    },
    en: {
      brandSub: "NAVIGATING THE DIGITAL COSMOS",
      missionTitle: "MISSION BRIEFING",
      missionText: "A full-stack developer focused on creating immersive digital products. I specialize in the intersection of modern front-end technologies like React and Three.js with powerful and scalable back-end systems. My goal is to transform complex challenges into intuitive and visually stunning applications.",
      projectsTitle: "DEPLOYED ASSETS",
      project1Title: "Interactive Generative Art Platform",
      project1Text: "A web application allowing users to create unique visualizations based on AI algorithms. Real-time rendering is handled using Three.js/WebGL.",
      project2Title: "3D Data Analytics Dashboard",
      project2Text: "A platform for visualizing complex datasets in an interactive 3D space. Supports real-time data streaming via WebSockets.",
      project3Title: "High-Performance E-commerce Platform",
      project3Text: "A full-featured e-commerce solution built on the MERN stack with JWT authentication, Stripe payment integration, and state management.",
      contactTitle: "ESTABLISH CONTACT",
      contactButton: "INITIATE TRANSMISSION",
    }
  };
  
  // Ключи для мобильной версии, которые дублируют десктопные
  translations.ru.brandSub_mobile = translations.ru.brandSub;
  translations.ru.missionTitle_mobile = translations.ru.missionTitle;
  translations.ru.missionText_mobile = translations.ru.missionText;
  translations.ru.projectsTitle_mobile = translations.ru.projectsTitle;
  translations.ru.project1Title_mobile = translations.ru.project1Title;
  translations.ru.project1Text_mobile = translations.ru.project1Text;
  translations.ru.project2Title_mobile = translations.ru.project2Title;
  translations.ru.project2Text_mobile = translations.ru.project2Text;
  translations.ru.project3Title_mobile = translations.ru.project3Title;
  translations.ru.project3Text_mobile = translations.ru.project3Text;
  translations.ru.contactTitle_mobile = translations.ru.contactTitle;
  translations.ru.contactButton_mobile = translations.ru.contactButton;

  translations.en.brandSub_mobile = translations.en.brandSub;
  translations.en.missionTitle_mobile = translations.en.missionTitle;
  translations.en.missionText_mobile = translations.en.missionText;
  translations.en.projectsTitle_mobile = translations.en.projectsTitle;
  translations.en.project1Title_mobile = translations.en.project1Title;
  translations.en.project1Text_mobile = translations.en.project1Text;
  translations.en.project2Title_mobile = translations.en.project2Title;
  translations.en.project2Text_mobile = translations.en.project2Text;
  translations.en.project3Title_mobile = translations.en.project3Title;
  translations.en.project3Text_mobile = translations.en.project3Text;
  translations.en.contactTitle_mobile = translations.en.contactTitle;
  translations.en.contactButton_mobile = translations.en.contactButton;


  // Функция смены языка
  function changeLanguage(lang) {
    document.documentElement.lang = lang;
    const elements = document.querySelectorAll('[data-translate-key]');
    elements.forEach(el => {
      const key = el.dataset.translateKey;
      if (translations[lang] && translations[lang][key]) {
        el.innerHTML = translations[lang][key];
      }
    });
  }

  setTimeout(() => {
    gsap.to(loadingOverlay, { 
      opacity: 0, duration: 1, 
      onComplete: () => {
        loadingOverlay.style.display = 'none';
        initializeInteractions();
      }
    });
  }, 1000);

  function createParticles() {
    const container = document.getElementById('particles-container');
    if (!container) return;
    for (let i = 0; i < 50; i++) {
      const particle = document.createElement('div');
      particle.className = 'particle';
      const x = Math.random() * window.innerWidth;
      const y = Math.random() * window.innerHeight;
      gsap.set(particle, { x: x, y: y, scale: Math.random() * 0.8 + 0.2, opacity: Math.random() * 0.4 + 0.1 });
      container.appendChild(particle);
      gsap.to(particle, { x: x + (Math.random() - 0.5) * 300, y: y + (Math.random() - 0.5) * 300, duration: Math.random() * 15 + 10, repeat: -1, yoyo: true, ease: "sine.inOut" });
      const trail = document.createElement('div');
      trail.className = 'particle-trail';
      gsap.set(trail, { x: x, y: y, rotation: Math.random() * 360 });
      container.appendChild(trail);
      gsap.to(trail, { x: x + (Math.random() - 0.5) * 300, y: y + (Math.random() - 0.5) * 300, duration: Math.random() * 15 + 10, repeat: -1, yoyo: true, ease: "sine.inOut", opacity: 0.2 });
    }
  }

  function createGeometricShapes() {
    const container = document.getElementById('geometric-bg');
    if (!container) return;
    const shapes = ['geo-triangle', 'geo-circle', 'geo-square'];
    for (let i = 0; i < 20; i++) {
      const shape = document.createElement('div');
      const shapeClass = shapes[Math.floor(Math.random() * shapes.length)];
      shape.className = `geo-shape ${shapeClass}`;
      const x = Math.random() * window.innerWidth;
      const y = Math.random() * window.innerHeight;
      gsap.set(shape, { x: x, y: y, rotation: Math.random() * 360, scale: Math.random() * 1.5 + 0.5 });
      container.appendChild(shape);
      gsap.to(shape, { rotation: "+=360", duration: Math.random() * 30 + 15, repeat: -1, ease: "none" });
      gsap.to(shape, { x: x + (Math.random() - 0.5) * 100, y: y + (Math.random() - 0.5) * 100, duration: Math.random() * 10 + 5, repeat: -1, yoyo: true, ease: "sine.inOut" });
    }
  }

  function initThreeJS() {
    if (window.innerWidth < 769) return;
    const canvas = document.createElement('canvas');
    canvas.id = 'bg-canvas';
    document.body.insertBefore(canvas, document.body.firstChild); 
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 3000);
    const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(window.devicePixelRatio);
    const starGeometry = new THREE.BufferGeometry();
    const starMaterial = new THREE.PointsMaterial({ color: 0xffffff, size: 1, sizeAttenuation: true });
    const starsVertices = [];
    for (let i = 0; i < 10000; i++) {
      starsVertices.push((Math.random() - 0.5) * 2000, (Math.random() - 0.5) * 2000, (Math.random() - 0.5) * 2000);
    }
    starGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starsVertices, 3));
    const stars = new THREE.Points(starGeometry, starMaterial);
    scene.add(stars);
    camera.position.z = 1000;
    function animateThree() {
      requestAnimationFrame(animateThree);
      stars.rotation.y += 0.0001;
      const xPercent = (mouse.x / window.innerWidth - 0.5) * 2;
      const yPercent = (mouse.y / window.innerHeight - 0.5) * 2;
      camera.position.x = xPercent * 200;
      camera.position.y = yPercent * 200;
      camera.lookAt(0, 0, 0);
      renderer.render(scene, camera);
    }
    animateThree();
    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });
  }

  function initializeInteractions() {
    initThreeJS();
    changeLanguage(currentLang); // Устанавливаем язык при загрузке
    
    // <<< ДОБАВЛЕНО: Логика переключателя языка
    langSwitcher.addEventListener('click', () => {
      // Блокируем повторное нажатие во время анимации
      if (gsap.isTweening(langSwitcher)) return;

      const newLang = currentLang === 'ru' ? 'en' : 'ru';
      const oldLangText = currentLang.toUpperCase();
      const newLangText = newLang.toUpperCase();

      const chars = langSwitcher.querySelectorAll('span');
      
      const tl = gsap.timeline();
      tl.to(chars, {
        opacity: 0,
        scale: 0.5,
        x: () => gsap.utils.random(-30, 30),
        y: () => gsap.utils.random(-30, 30),
        rotation: () => gsap.utils.random(-90, 90),
        duration: 0.3,
        stagger: 0.1,
        ease: 'power2.in',
        onComplete: () => {
          // Меняем язык и текст в свитчере в середине анимации
          currentLang = newLang;
          changeLanguage(currentLang);
          langSwitcher.innerHTML = `<span>${newLangText[0]}</span><span>${newLangText[1]}</span>`;
        }
      })
      .from(langSwitcher.querySelectorAll('span'), {
        opacity: 0,
        scale: 0.5,
        x: () => gsap.utils.random(-30, 30),
        y: () => gsap.utils.random(-30, 30),
        rotation: () => gsap.utils.random(-90, 90),
        duration: 0.3,
        stagger: 0.1,
        ease: 'power2.out'
      });
    });

    window.addEventListener('mousemove', (e) => {
      mouse.x = e.clientX;
      mouse.y = e.clientY;
      if (!cursorHasMoved) {
        cursorHasMoved = true;
        gsap.to(cursor, { opacity: 1, duration: 0.5 });
        gsap.to(lens, { scale: 1, opacity: 1, duration: 1.5, ease: 'expo.out' });
        setTimeout(() => {
          gsap.to(scrollHint, { opacity: 1, duration: 1, repeat: 2, yoyo: true, repeatDelay: 1 });
        }, 2000);
      }
    });

    window.addEventListener('wheel', (e) => {
      if (window.innerWidth < 769) return;
      e.preventDefault();
      targetScroll += e.deltaY;
      const maxScroll = lensContent.scrollHeight - lensContent.clientHeight;
      targetScroll = Math.max(0, Math.min(targetScroll, maxScroll));
    }, { passive: false });

    const interactiveElements = document.querySelectorAll('a, button, input, textarea, .project-card, .tech-badge, .social-link, .lang-switcher');
    interactiveElements.forEach(el => {
      el.addEventListener('mouseenter', () => cursor.classList.add('active'));
      el.addEventListener('mouseleave', () => cursor.classList.remove('active'));
    });

    document.querySelectorAll('.contact-form').forEach(form => {
        form.addEventListener('submit', handleFormSubmit);
    });

    startAnimationLoop();
  }

  function handleFormSubmit(e) {
    e.preventDefault();
    const form = e.target;
    const button = form.querySelector('button');
    const statusEl = form.querySelector('.form-status');
    const originalText = button.textContent;
    statusEl.classList.remove('success', 'error');
    gsap.to(statusEl, { opacity: 0, y: 10, duration: 0.3 });
    button.textContent = 'TRANSMITTING...';
    button.disabled = true;
    button.classList.add('submitting');
    setTimeout(() => {
        button.classList.remove('submitting');
        button.textContent = 'TRANSMISSION COMPLETE';
        statusEl.textContent = '[ SUCCESS: MESSAGE RECEIVED ]';
        statusEl.classList.add('success');
        gsap.to(statusEl, { opacity: 1, y: 0, duration: 0.5 });
        setTimeout(() => {
            button.textContent = originalText;
            button.disabled = false;
            form.reset();
            gsap.to(statusEl, { opacity: 0, y: 10, duration: 0.5, onComplete: () => {
              statusEl.classList.remove('success');
            }});
        }, 2500);
    }, 1500);
  }

  function startAnimationLoop() {
    const TILT_AMOUNT = 15;
    const PARALLAX_AMOUNT = 30;
    function animate() {
      if (cursorHasMoved) {
        const scrollDiff = targetScroll - currentScroll;
        if (Math.abs(scrollDiff) > 0.1) {
          currentScroll += scrollDiff * scrollSmoothness;
          lensContent.scrollTop = currentScroll;
        }
        const xPercent = (mouse.x / window.innerWidth - 0.5) * 2;
        const yPercent = (mouse.y / window.innerHeight - 0.5) * 2;
        gsap.to(lens, { rotationY: xPercent * TILT_AMOUNT, rotationX: -yPercent * TILT_AMOUNT, duration: 0.8, ease: 'power2.out' });
        gsap.to(lensContent, { x: -xPercent * PARALLAX_AMOUNT, y: -yPercent * PARALLAX_AMOUNT, duration: 1.2, ease: 'power3.out' });
      }
      if (cursor) {
        gsap.set(cursor, { left: mouse.x, top: mouse.y });
      }
      requestAnimationFrame(animate);
    }
    animate();
  }
  
  ScrollTrigger.matchMedia({
    "(min-width: 769px)": function() {
      createParticles();
      createGeometricShapes();
    },
    "(max-width: 768px)": function() {
      gsap.utils.toArray('.mobile-content-container .section').forEach(section => {
        gsap.from(section.children, {
          opacity: 0, y: 50, duration: 1, stagger: 0.1,
          scrollTrigger: { 
            trigger: section, start: 'top 85%', toggleActions: 'play none none reverse' 
          }
        });
      });
    }
  });
});
</script>

</body>
</html>
