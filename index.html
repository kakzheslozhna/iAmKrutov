<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Krutov Egor — The Cosmic Lens</title>

<!-- GSAP -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;900&family=Roboto+Mono:wght@300;400;700&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">

<style>
:root{
  --bg: #000002;
  --text: #EAEAEA;
  --muted: #A0A0A0;
  --accent-a: #00FFA3;
  --accent-b: #03E1FF;
  --accent-c: #FF0080;
  --accent-d: #8B5CF6;
  
  --lens-size: clamp(600px, 80vw, 900px);
  --lens-border: rgba(255, 255, 255, 0.15);
  --lens-glow: rgba(3, 225, 255, 0.2);
  
  --glow-primary: drop-shadow(0 0 20px var(--accent-a));
  --glow-secondary: drop-shadow(0 0 15px var(--accent-b));
  --text-glow: 0 0 10px currentColor;
}

/* Reset & Base */
*{box-sizing:border-box;margin:0;padding:0}
html,body{width:100%;height:100%;overflow:hidden;background:var(--bg)}
body{
  color:var(--text);
  font-family: 'Inter', system-ui, sans-serif;
  -webkit-font-smoothing:antialiased;
  cursor: none;
  position: relative;
}

/* Enhanced Starfield with Multiple Layers */
#starfield {
  position: fixed; inset: 0; z-index: 1;
  background: 
    radial-gradient(ellipse 50% 40% at 20% 30%, rgba(0, 255, 163, 0.08), transparent 70%),
    radial-gradient(ellipse 40% 35% at 80% 20%, rgba(3, 225, 255, 0.08), transparent 70%),
    radial-gradient(ellipse 35% 30% at 10% 80%, rgba(255, 0, 128, 0.06), transparent 70%),
    radial-gradient(ellipse 45% 25% at 90% 70%, rgba(139, 92, 246, 0.06), transparent 70%);
  filter: blur(1px);
  will-change: transform;
}

/* Animated Particles */
#particles-container {
  position: fixed; inset: 0; z-index: 2; pointer-events: none;
  overflow: hidden;
}

.particle {
  position: absolute;
  width: 2px; height: 2px;
  background: white;
  border-radius: 50%;
  opacity: 0;
  will-change: transform, opacity;
}

/* Floating Geometric Shapes */
#geometric-bg {
  position: fixed; inset: 0; z-index: 1; pointer-events: none;
  overflow: hidden;
}

.geo-shape {
  position: absolute;
  opacity: 0.1;
  will-change: transform;
  filter: blur(0.5px);
}

.geo-triangle {
  width: 0; height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-bottom: 26px solid var(--accent-a);
}

.geo-circle {
  width: 20px; height: 20px;
  border: 2px solid var(--accent-b);
  border-radius: 50%;
}

.geo-square {
  width: 18px; height: 18px;
  background: var(--accent-c);
  transform: rotate(45deg);
}

/* Enhanced Lens */
.lens-viewport {
  position: fixed; inset: 0; z-index: 10; pointer-events: none;
  perspective: 1500px;
}

.lens {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  
  width: var(--lens-size); height: var(--lens-size);
  border-radius: 50%; 
  border: 2px solid var(--lens-border);
  box-shadow: 
    0 0 60px 15px rgba(0,0,0,0.7),
    inset 0 0 30px var(--lens-glow),
    0 0 100px 5px rgba(3, 225, 255, 0.1);
  clip-path: circle(50% at 50% 50%);
  will-change: transform; 
  background: 
    radial-gradient(circle at 30% 30%, rgba(0, 255, 163, 0.05), transparent 50%),
    radial-gradient(circle at 70% 70%, rgba(3, 225, 255, 0.05), transparent 50%),
    rgba(5, 5, 15, 0.4);
  backdrop-filter: blur(12px) saturate(150%) brightness(110%);
  -webkit-backdrop-filter: blur(12px) saturate(150%) brightness(110%);
  overflow: hidden;
  pointer-events: none;
}

.lens::before {
  content: '';
  position: absolute; inset: 0;
  border-radius: 50%;
  background: conic-gradient(
    from 0deg,
    transparent 0deg,
    var(--accent-a) 90deg,
    transparent 180deg,
    var(--accent-b) 270deg,
    transparent 360deg
  );
  opacity: 0.1;
  animation: rotate 20s linear infinite;
  z-index: -1;
}

.lens-content {
  width: 100%; height: 100%;
  overflow-y: auto; overflow-x: hidden;
  padding: 5%;
  position: relative;
  pointer-events: auto;
  will-change: transform;
}
.lens-content::-webkit-scrollbar { display: none; }

.content-wrapper {
  max-width: 80%; margin: 0 auto;
  padding-top: calc(var(--lens-size) * 0.2);
  padding-bottom: calc(var(--lens-size) * 0.1);
}

/* Enhanced Sections */
.section{
  min-height: calc(var(--lens-size) * 0.8);
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  text-align:center; padding: 3rem 0; gap: 2rem;
  position: relative;
}

.section::before {
  content: '';
  position: absolute;
  top: 0; left: 50%;
  width: 2px; height: 40px;
  background: linear-gradient(to bottom, var(--accent-a), transparent);
  transform: translateX(-50%);
}

.section h2{
  font-size:clamp(1.2rem, 2.5vw, 1.8rem); 
  font-weight: 700;
  font-family: 'Orbitron', monospace;
  background:linear-gradient(135deg, var(--accent-a), var(--accent-b), var(--accent-c)); 
  -webkit-background-clip:text; background-clip:text; color:transparent;
  text-shadow: var(--text-glow);
  letter-spacing: 2px;
  position: relative;
  padding: 0.5rem 1.5rem;
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 25px;
  background-color: rgba(0,0,0,0.3);
  backdrop-filter: blur(5px);
}

.section p{ 
  color:var(--muted); 
  max-width:50ch; 
  line-height:1.8; 
  font-size: 1.1rem;
  text-shadow: 0 0 5px rgba(255,255,255,0.1);
}

/* Glitch Effect for Brand Title */
.brand-title {
  display: flex; flex-wrap: wrap; justify-content: center;
  gap: 0.1em 0.2em; line-height: 1.1; perspective: 1000px;
  cursor: pointer;
  position: relative;
}

.brand-title::before,
.brand-title::after {
  content: attr(data-text);
  position: absolute;
  top: 0; left: 0; right: 0;
  font-size: clamp(3rem, 10vw, 6rem);
  font-weight: 900;
  pointer-events: none;
  opacity: 0;
}

.brand-title::before {
  color: var(--accent-a);
  animation: glitch-1 2s infinite;
  z-index: -1;
}

.brand-title::after {
  color: var(--accent-c);
  animation: glitch-2 2s infinite;
  z-index: -2;
}

.brand-letter {
  display: inline-block; font-weight: 900;
  font-size: clamp(3rem, 10vw, 6rem); 
  color: var(--text);
  text-shadow: 
    0 0 20px rgba(255,255,255,0.3),
    0 0 40px rgba(0, 255, 163, 0.2),
    0 0 60px rgba(3, 225, 255, 0.2);
  will-change: transform;
  transition: all 0.3s ease;
  position: relative;
  font-family: 'Orbitron', monospace;
}

.brand-letter:hover {
  transform: scale(1.1) rotateY(15deg);
  text-shadow: 
    0 0 30px rgba(255,255,255,0.5),
    0 0 50px var(--accent-a),
    0 0 80px var(--accent-b);
}

.brand-sub{
  font-size: 1.1rem; 
  color: var(--muted); 
  margin-top: 1.5rem;
  font-family: 'Roboto Mono', monospace;
  letter-spacing: 1px;
  opacity: 0.8;
}

/* Enhanced Project Cards */
.project-grid{
  display:grid; 
  grid-template-columns: 1fr;
  gap:1.5rem; 
  width: 100%;
  margin-top:2rem;
}

.project-card{
  background: 
    linear-gradient(135deg, rgba(255,255,255,0.05), rgba(255,255,255,0.01)),
    rgba(0,0,0,0.4);
  padding:2rem; 
  border-radius:16px;
  border: 1px solid rgba(255,255,255,0.08);
  box-shadow: 
    0 15px 35px rgba(0,0,0,0.5),
    inset 0 1px 0 rgba(255,255,255,0.1);
  position: relative;
  overflow: hidden;
  cursor: pointer;
  transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
  backdrop-filter: blur(10px);
}

.project-card::before {
  content: '';
  position: absolute;
  top: 0; left: -100%;
  width: 100%; height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
  transition: left 0.6s;
}

.project-card:hover::before {
  left: 100%;
}

.project-card:hover {
  transform: translateY(-10px) scale(1.02);
  border-color: rgba(0, 255, 163, 0.3);
  box-shadow: 
    0 25px 50px rgba(0,0,0,0.6),
    0 0 50px rgba(0, 255, 163, 0.2),
    inset 0 1px 0 rgba(255,255,255,0.2);
}

.project-card h3 {
  font-size: 1.3rem;
  font-weight: 700;
  margin-bottom: 1rem;
  background: linear-gradient(135deg, var(--accent-a), var(--accent-b));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  font-family: 'Orbitron', monospace;
}

.project-card p {
  color: var(--muted);
  line-height: 1.6;
  margin-bottom: 1.5rem;
}

/* Enhanced Form */
.contact-form{
  display:flex;
  flex-direction:column;
  gap:1.5rem;
  width:100%;
  max-width:500px;
}

.contact-form input, 
.contact-form textarea{
  background: rgba(0,0,0,0.3);
  border: 1px solid rgba(255,255,255,0.15);
  padding: 1.2rem;
  border-radius: 12px;
  color: var(--text);
  font-family: inherit;
  font-size: 1rem;
  transition: all 0.3s ease;
  backdrop-filter: blur(5px);
}

.contact-form input:focus, 
.contact-form textarea:focus{
  outline: none;
  border-color: var(--accent-a);
  box-shadow: 0 0 20px rgba(0, 255, 163, 0.3);
  background: rgba(0,0,0,0.5);
}

.contact-form button{
  padding: 1.2rem 2rem;
  border-radius: 12px;
  border: none;
  background: linear-gradient(135deg, var(--accent-a), var(--accent-b));
  color: #000;
  font-weight: 700;
  font-size: 1rem;
  cursor: pointer;
  transition: all 0.3s ease;
  text-transform: uppercase;
  letter-spacing: 1px;
  position: relative;
  overflow: hidden;
}

.contact-form button::before {
  content: '';
  position: absolute;
  top: 0; left: -100%;
  width: 100%; height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
  transition: left 0.5s;
}

.contact-form button:hover::before {
  left: 100%;
}

.contact-form button:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 25px rgba(0, 255, 163, 0.4);
}

.contact-form button.submitting {
  opacity: 0.7;
  pointer-events: none;
  animation: pulse-border 1.5s infinite;
}

.form-status {
  padding: 1rem;
  margin-top: 1rem;
  border-radius: 8px;
  border: 1px solid;
  font-family: 'Roboto Mono', monospace;
  font-size: 0.9rem;
  text-align: center;
  opacity: 0;
  transform: translateY(10px);
  transition: opacity 0.3s ease, transform 0.3s ease;
  will-change: opacity, transform;
}

.form-status.success {
  color: var(--accent-a);
  border-color: var(--accent-a);
  background: rgba(0, 255, 163, 0.1);
  box-shadow: 0 0 15px rgba(0, 255, 163, 0.2);
}

.form-status.error {
  color: var(--accent-c);
  border-color: var(--accent-c);
  background: rgba(255, 0, 128, 0.1);
  box-shadow: 0 0 15px rgba(255, 0, 128, 0.2);
}


/* Enhanced Cursor */
#cursor {
  position: fixed; z-index: 1000;
  pointer-events: none; width: 20px; height: 20px;
  border: 2px solid var(--accent-a);
  border-radius: 50%;
  opacity: 0;
  will-change: transform;
  mix-blend-mode: exclusion;
  transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1),
              border-color 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
  transform: translate(-50%, -50%); /* Center cursor */
}

#cursor::before {
  content: '';
  position: absolute;
  top: 50%; left: 50%;
  width: 6px; height: 6px;
  background: var(--accent-a);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: all 0.3s ease;
}

#cursor.active {
  transform: translate(-50%, -50%) scale(2);
  border-color: var(--accent-b);
}

#cursor.active::before {
  background: var(--accent-b);
}

/* Loading Animation */
.loading-overlay {
  position: fixed;
  inset: 0;
  background: var(--bg);
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 1;
  transition: opacity 1s ease;
}

.loading-text {
  font-family: 'Orbitron', monospace;
  font-size: 2rem;
  font-weight: 700;
  background: linear-gradient(135deg, var(--accent-a), var(--accent-b));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  animation: pulse 2s ease-in-out infinite;
}

#scroll-hint {
  position: fixed; bottom: 40px; left: 50%; transform: translateX(-50%);
  z-index: 5; 
  color: rgba(255,255,255,0.4); 
  font-family: 'Roboto Mono', monospace;
  font-size: 13px; 
  opacity: 0;
  padding: 10px 20px;
  background: rgba(0,0,0,0.5);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 25px;
  backdrop-filter: blur(5px);
}

/* Animations */
@keyframes rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes glitch-1 {
  0%, 90%, 100% { opacity: 0; }
  5% { opacity: 0.7; transform: translate(-2px, 1px); }
  10% { opacity: 0.8; transform: translate(2px, -1px); }
  15% { opacity: 0; }
}

@keyframes glitch-2 {
  0%, 90%, 100% { opacity: 0; }
  5% { opacity: 0.6; transform: translate(2px, 1px); }
  10% { opacity: 0.7; transform: translate(-2px, -1px); }
  15% { opacity: 0; }
}

@keyframes pulse {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

@keyframes pulse-border {
  0%, 100% { box-shadow: 0 0 20px rgba(3, 225, 255, 0.3); }
  50% { box-shadow: 0 0 35px rgba(3, 225, 255, 0.6); }
}

@keyframes float {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  50% { transform: translateY(-20px) rotate(180deg); }
}

/* Mobile Responsive */
@media (max-width: 768px) {
  /* <<< ИЗМЕНЕНИЕ: Включаем скролл И позволяем странице расти в высоту */
  html, body {
    overflow: auto;
    height: auto; /* <-- КЛЮЧЕВОЙ ФИКС */
  }
  body { 
    cursor: auto; 
  }
  .lens-viewport, #cursor, #scroll-hint, #particles-container, #geometric-bg { 
    display: none; 
  }
  .mobile-content-container { 
    display: block; 
  }
}

@media (min-width: 769px) {
  .mobile-content-container { display: none; }
}

.mobile-content-container {
  width: 95%; margin: 2vh auto; border-radius: 20px;
  border: 1px solid var(--lens-border); 
  box-shadow: 0 0 60px 15px rgba(0,0,0,0.7);
  background: 
    radial-gradient(circle at 30% 30%, rgba(0, 255, 163, 0.03), transparent 50%),
    rgba(5, 5, 15, 0.7);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  padding: 2rem 1.5rem;
  overflow: hidden;
  position: relative;
}

.mobile-content-container::before {
  content: '';
  position: absolute; inset: 0;
  background: conic-gradient(
    from 0deg,
    transparent 0deg,
    rgba(0, 255, 163, 0.05) 90deg,
    transparent 180deg,
    rgba(3, 225, 255, 0.05) 270deg,
    transparent 360deg
  );
  animation: rotate 30s linear infinite;
  z-index: -1;
}

/* Status Indicator */
.status-indicator {
  position: fixed;
  top: 20px; right: 20px;
  z-index: 100;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 16px;
  background: rgba(0,0,0,0.7);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 20px;
  backdrop-filter: blur(10px);
  font-family: 'Roboto Mono', monospace;
  font-size: 12px;
  color: var(--muted);
}

.status-dot {
  width: 8px; height: 8px;
  background: var(--accent-a);
  border-radius: 50%;
  animation: pulse 2s ease-in-out infinite;
}

.tech-badge {
  display: inline-block;
  padding: 4px 12px;
  background: rgba(0, 255, 163, 0.1);
  border: 1px solid rgba(0, 255, 163, 0.3);
  border-radius: 12px;
  font-family: 'Roboto Mono', monospace;
  font-size: 0.8rem;
  color: var(--accent-a);
  margin: 4px;
  transition: all 0.3s ease;
}

.tech-badge:hover {
  background: rgba(0, 255, 163, 0.2);
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(0, 255, 163, 0.2);
}

/* Social Links */
.social-links {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-top: 2rem;
}

.social-link {
  width: 50px; height: 50px;
  border: 1px solid rgba(255,255,255,0.2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--muted);
  text-decoration: none;
  transition: all 0.3s ease;
  backdrop-filter: blur(5px);
  background: rgba(255,255,255,0.05);
  font-size: 1.2rem;
}

.social-link:hover {
  border-color: var(--accent-a);
  color: var(--accent-a);
  box-shadow: 0 0 20px rgba(0, 255, 163, 0.3);
  transform: translateY(-5px);
}
</style>
</head>
<body>

<!-- Loading Screen -->
<div class="loading-overlay" id="loadingOverlay">
  <div class="loading-text">INITIALIZING...</div>
</div>

<!-- Status Indicator -->
<div class="status-indicator">
  <div class="status-dot"></div>
  <span>SYSTEM ONLINE</span>
</div>

<div id="starfield"></div>
<div id="particles-container"></div>
<div id="geometric-bg"></div>
<div id="scroll-hint">Scroll inside the lens to explore</div>

<!-- DESKTOP -->
<div class="lens-viewport">
  <div class="lens" id="lens">
    <div class="lens-content" id="lens-content">
      <div class="content-wrapper">
        
        <div class="section hero-wrap" id="hero">
          <div class="brand-title" id="brandTitle" data-text="KRUTOV EGOR"></div>
          <div class="brand-sub">[ NAVIGATING THE DIGITAL COSMOS ]</div>
          <div class="social-links">
            <a href="https://t.me/kakzheslozhna" class="social-link" title="Telegram">ᯓ➤</a>
          </div>
        </div>
        
        <div class="section" id="about">
          <h2>[ MISSION_BRIEFING ]</h2>
          <p>Pioneering full-stack developer focused on the synthesis of artificial intelligence, real-time 3D graphics, and fluid user interfaces. Building digital experiences that transcend the ordinary.</p>
          <div style="margin-top: 1rem;">
            <span class="tech-badge">React</span>
            <span class="tech-badge">Three.js</span>
            <span class="tech-badge">WebGL</span>
            <span class="tech-badge">AI/ML</span>
            <span class="tech-badge">Node.js</span>
            <span class="tech-badge">WebVR</span>
          </div>
        </div>
        
        <div class="section" id="projects">
          <h2>[ DEPLOYED_ASSETS ]</h2>
          <div class="project-grid">
            <article class="project-card">
              <h3>Project Singularity</h3>
              <p>AI-driven generative art platform with neural style transfer and real-time collaboration features.</p>
              <div>
                <span class="tech-badge">TensorFlow</span>
                <span class="tech-badge">WebGL</span>
              </div>
            </article>
            <article class="project-card">
              <h3>Aetherium VR</h3>
              <p>Immersive WebVR portfolio experience with spatial computing and gesture recognition.</p>
              <div>
                <span class="tech-badge">WebXR</span>
                <span class="tech-badge">Three.js</span>
              </div>
            </article>
            <article class="project-card">
              <h3>Quantum Dashboard</h3>
              <p>Real-time data visualization platform with advanced particle systems and interactive analytics.</p>
              <div>
                <span class="tech-badge">D3.js</span>
                <span class="tech-badge">WebSocket</span>
              </div>
            </article>
          </div>
        </div>
        
        <div class="section" id="contact">
          <h2>[ ESTABLISH_CONTACT ]</h2>
          <form id="contact-form-desktop" class="contact-form">
            <input type="text" placeholder="// IDENTIFICATION" required>
            <input type="email" placeholder="// TRANSMISSION_CHANNEL" required>
            <textarea rows="4" placeholder="// MESSAGE_PAYLOAD" required></textarea>
            <button type="submit">INITIATE TRANSMISSION</button>
            <div class="form-status"></div>
          </form>
        </div>
        
      </div>
    </div>
  </div>
</div>

<!-- MOBILE -->
<div class="mobile-content-container">
  <div class="content-wrapper">
    
      <div class="section hero-wrap">
        <div class="brand-title" id="brandTitleMobile" data-text="KRUTOV EGOR"></div>
        <div class="brand-sub">[ NAVIGATING THE DIGITAL COSMOS ]</div>
        <div class="social-links">
          <a href="#" class="social-link" title="Telegram">✈</a>
        </div>
      </div>
      
      <div class="section">
        <h2>[ MISSION_BRIEFING ]</h2>
        <p>Pioneering full-stack developer focused on the synthesis of artificial intelligence, real-time 3D graphics, and fluid user interfaces. Building digital experiences that transcend the ordinary.</p>
        <div style="margin-top: 1rem;">
          <span class="tech-badge">React</span>
          <span class="tech-badge">Three.js</span>
          <span class="tech-badge">WebGL</span>
          <span class="tech-badge">AI/ML</span>
          <span class="tech-badge">Node.js</span>
          <span class="tech-badge">WebVR</span>
        </div>
      </div>
      
      <div class="section">
        <h2>[ DEPLOYED_ASSETS ]</h2>
        <div class="project-grid">
          <article class="project-card">
            <h3>Project Singularity</h3>
            <p>AI-driven generative art platform with neural style transfer and real-time collaboration features.</p>
            <div>
              <span class="tech-badge">TensorFlow</span>
              <span class="tech-badge">WebGL</span>
            </div>
          </article>
          <article class="project-card">
            <h3>Aetherium VR</h3>
            <p>Immersive WebVR portfolio experience with spatial computing and gesture recognition.</p>
            <div>
              <span class="tech-badge">WebXR</span>
              <span class="tech-badge">Three.js</span>
            </div>
          </article>
          <article class="project-card">
            <h3>Quantum Dashboard</h3>
            <p>Real-time data visualization platform with advanced particle systems and interactive analytics.</p>
            <div>
              <span class="tech-badge">D3.js</span>
              <span class="tech-badge">WebSocket</span>
            </div>
          </article>
        </div>
      </div>
      
      <div class="section">
        <h2>[ ESTABLISH_CONTACT ]</h2>
        <form id="contact-form-mobile" class="contact-form">
          <input type="text" placeholder="// IDENTIFICATION" required>
          <input type="email" placeholder="// TRANSMISSION_CHANNEL" required>
          <textarea rows="4" placeholder="// MESSAGE_PAYLOAD" required></textarea>
          <button type="submit">INITIATE TRANSMISSION</button>
          <div class="form-status"></div>
        </form>
      </div>
      
  </div>
</div>

<div id="cursor"></div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  gsap.registerPlugin(ScrollTrigger);

  const titleText = "KRUTOV EGOR";
  let cursorHasMoved = false;
  let mouse = { x: window.innerWidth / 2, y: window.innerHeight / 2 };

  // Initialize elements
  const lens = document.getElementById('lens');
  const lensContent = document.getElementById('lens-content');
  const cursor = document.getElementById('cursor');
  const starfield = document.getElementById('starfield');
  const scrollHint = document.getElementById('scroll-hint');
  const loadingOverlay = document.getElementById('loadingOverlay');

  gsap.set(lens, { scale: 0, opacity: 0 });
  gsap.set(cursor, { opacity: 0 });

  // Hide loading screen
  setTimeout(() => {
    gsap.to(loadingOverlay, { 
      opacity: 0, duration: 1, 
      onComplete: () => {
        loadingOverlay.style.display = 'none';
        initializeInteractions();
      }
    });
  }, 1000);

  function createTitle(containerId) {
    const container = document.getElementById(containerId);
    if (!container) return;
    
    container.innerHTML = '';
    titleText.split('').forEach(char => {
      const span = document.createElement('span');
      span.className = 'brand-letter';
      span.textContent = char === ' ' ? '\u00A0' : char;
      container.appendChild(span);
    });
  }

  function animateTitle(containerId) {
    const letters = document.querySelectorAll(`#${containerId} .brand-letter`);
    gsap.from(letters, {
      opacity: 0, scale: 0.8,
      rotationZ: () => gsap.utils.random(-40, 40),
      y: () => gsap.utils.random(-50, 50),
      duration: 1.5, ease: 'power3.out',
      stagger: { each: 0.05, from: 'random' }
    });
  }

  function createParticles() {
    const container = document.getElementById('particles-container');
    if (!container) return;

    for (let i = 0; i < 30; i++) {
      const particle = document.createElement('div');
      particle.className = 'particle';
      const x = Math.random() * window.innerWidth;
      const y = Math.random() * window.innerHeight;
      gsap.set(particle, {
        x: x, y: y,
        scale: Math.random() * 0.5 + 0.3,
        opacity: Math.random() * 0.3 + 0.1
      });
      container.appendChild(particle);
      gsap.to(particle, {
        x: x + (Math.random() - 0.5) * 200,
        y: y + (Math.random() - 0.5) * 200,
        duration: Math.random() * 10 + 5,
        repeat: -1, yoyo: true, ease: "none"
      });
    }
  }

  function createGeometricShapes() {
    const container = document.getElementById('geometric-bg');
    if (!container) return;
    const shapes = ['geo-triangle', 'geo-circle', 'geo-square'];
    for (let i = 0; i < 10; i++) {
      const shape = document.createElement('div');
      const shapeClass = shapes[Math.floor(Math.random() * shapes.length)];
      shape.className = `geo-shape ${shapeClass}`;
      const x = Math.random() * window.innerWidth;
      const y = Math.random() * window.innerHeight;
      gsap.set(shape, { x: x, y: y, rotation: Math.random() * 360 });
      container.appendChild(shape);
      gsap.to(shape, {
        rotation: "+=360", duration: Math.random() * 20 + 10,
        repeat: -1, ease: "none"
      });
    }
  }

  function initializeInteractions() {
    window.addEventListener('mousemove', (e) => {
      mouse.x = e.clientX;
      mouse.y = e.clientY;
      if (!cursorHasMoved) {
        cursorHasMoved = true;
        gsap.to(cursor, { opacity: 1, duration: 0.5 });
        gsap.to(lens, { scale: 1, opacity: 1, duration: 1.5, ease: 'expo.out' });
        setTimeout(() => {
          gsap.to(scrollHint, { 
            opacity: 1, duration: 1,
            repeat: 2, yoyo: true, repeatDelay: 1
          });
        }, 2000);
      }
    });

    const interactiveElements = document.querySelectorAll('button, a, input, textarea, .project-card, .tech-badge, .social-link');
    interactiveElements.forEach(el => {
      el.addEventListener('mouseenter', () => cursor.classList.add('active'));
      el.addEventListener('mouseleave', () => cursor.classList.remove('active'));
    });

    document.querySelectorAll('.contact-form').forEach(form => {
        form.addEventListener('submit', handleFormSubmit);
    });

    startAnimationLoop();
  }

  function handleFormSubmit(e) {
    e.preventDefault();
    const form = e.target;
    const button = form.querySelector('button');
    const statusEl = form.querySelector('.form-status');
    const originalText = button.textContent;

    statusEl.classList.remove('success', 'error');
    gsap.to(statusEl, { opacity: 0, y: 10, duration: 0.3 });

    button.textContent = 'TRANSMITTING...';
    button.disabled = true;
    button.classList.add('submitting');
    
    setTimeout(() => {
        button.classList.remove('submitting');
        button.textContent = 'TRANSMISSION COMPLETE';
        
        statusEl.textContent = '[ SUCCESS: MESSAGE RECEIVED ]';
        statusEl.classList.add('success');
        gsap.to(statusEl, { opacity: 1, y: 0, duration: 0.5 });

        setTimeout(() => {
            button.textContent = originalText;
            button.disabled = false;
            form.reset();
            gsap.to(statusEl, { opacity: 0, y: 10, duration: 0.5, onComplete: () => {
              statusEl.classList.remove('success');
            }});
        }, 2500);
    }, 1500);
  }

  function startAnimationLoop() {
    const TILT_AMOUNT = 15;
    const PARALLAX_AMOUNT = 30;

    function animate() {
      if (cursorHasMoved) {
        const xPercent = (mouse.x / window.innerWidth - 0.5) * 2;
        const yPercent = (mouse.y / window.innerHeight - 0.5) * 2;

        gsap.to(lens, {
          rotationY: xPercent * TILT_AMOUNT,
          rotationX: -yPercent * TILT_AMOUNT,
          duration: 0.8,
          ease: 'power2.out'
        });

        gsap.to(lensContent, {
          x: -xPercent * PARALLAX_AMOUNT,
          y: -yPercent * PARALLAX_AMOUNT,
          duration: 1.2,
          ease: 'power3.out'
        });
      }
      
      if (cursor) {
        gsap.set(cursor, { left: mouse.x, top: mouse.y });
      }
      
      if (starfield) {
        const xPercent = (mouse.x / window.innerWidth - 0.5) * 2;
        gsap.set(starfield, { x: -xPercent * 20 });
      }
      
      requestAnimationFrame(animate);
    }
    animate();
  }

  function setupMagneticEffect() {
    const brandTitle = document.getElementById('brandTitle');
    const brandLetters = gsap.utils.toArray('#brandTitle .brand-letter');

    if (brandTitle && brandLetters.length > 0) {
      brandTitle.addEventListener('mousemove', (e) => {
        brandLetters.forEach(letter => {
          const letterRect = letter.getBoundingClientRect();
          const letterCenterX = letterRect.left + letterRect.width / 2;
          const letterCenterY = letterRect.top + letterRect.height / 2;
          const deltaX = (e.clientX - letterCenterX) * 0.2;
          const deltaY = (e.clientY - letterCenterY) * 0.2;
          gsap.to(letter, { x: deltaX, y: deltaY, duration: 0.3, ease: 'power2.out' });
        });
      });

      brandTitle.addEventListener('mouseleave', () => {
        gsap.to(brandLetters, { x: 0, y: 0, duration: 0.6, ease: 'elastic.out(1, 0.5)' });
      });
    }
  }

  ScrollTrigger.matchMedia({
    "(min-width: 769px)": function() {
      createTitle('brandTitle');
      animateTitle('brandTitle');
      setupMagneticEffect();
      createParticles();
      createGeometricShapes();
    },
    "(max-width: 768px)": function() {
      createTitle('brandTitleMobile');
      animateTitle('brandTitleMobile');
      gsap.utils.toArray('.mobile-content-container .section').forEach(section => {
        gsap.from(section.children, {
          opacity: 0, y: 50, duration: 1, stagger: 0.1,
          scrollTrigger: { 
            trigger: section, start: 'top 85%', toggleActions: 'play none none reverse' 
          }
        });
      });
    }
  });
});
</script>

</body>
</html>
